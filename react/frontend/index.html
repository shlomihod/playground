<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ReAct Pattern Playground</title>
</head>
<body>
  <div id="app">
    <!-- Header -->
    <header id="header">
      <div class="header-left">
        <h1>ReAct Pattern Playground</h1>
      </div>
      <div class="header-right">
        <span id="step-counter">Step 0/28</span>
        <button id="btn-prev" title="Previous step (&#8592;)">&#171; Prev</button>
        <button id="btn-next" title="Next step (&#8594;)">Next &#187;</button>
        <button id="btn-auto" title="Auto-play (Space)">Auto-play</button>
        <button id="btn-reset" title="Reset (R)">Reset</button>
      </div>
    </header>

    <!-- Diagram (big â€” 1/3 of screen) -->
    <section id="diagram-section">
      <svg id="diagram-svg" viewBox="0 0 1000 300" preserveAspectRatio="xMidYMid meet">
        <defs>
          <marker id="arrow-head" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="var(--accent)" />
          </marker>
        </defs>

        <!-- User (left) -->
        <rect class="node node-user" x="30" y="40" width="130" height="60" rx="12" />
        <text class="node-label" x="95" y="75">User</text>

        <!-- Orchestrator (center) -->
        <rect class="node node-orch" x="280" y="40" width="180" height="60" rx="12" />
        <text class="node-label" x="370" y="75">Orchestrator</text>

        <!-- LLM (below orchestrator) -->
        <rect class="node node-llm" x="310" y="210" width="120" height="60" rx="12" />
        <text class="node-label" x="370" y="245">LLM</text>

        <!-- Tools box (right) -->
        <rect class="node node-tools" x="590" y="20" width="150" height="150" rx="12" />
        <text class="node-label" x="665" y="48">Tools</text>
        <text class="tool-item" id="tool-calculator" x="612" y="76"  >&#x1F522; calculator</text>
        <text class="tool-item" id="tool-search"     x="612" y="102" >&#x1F50D; search</text>
        <text class="tool-item" id="tool-rag"         x="612" y="128" >&#x1F4DA; rag</text>
        <text class="tool-item" id="tool-send_email"  x="612" y="154" >&#x1F4E7; send_email</text>

        <!-- Tool activity text (right of tools box) -->
        <text class="tool-activity-line" id="ta-line-1" x="760" y="76"></text>
        <text class="tool-activity-line" id="ta-line-2" x="760" y="100"></text>
        <text class="tool-activity-line" id="ta-line-3" x="760" y="124"></text>
        <text class="tool-activity-line" id="ta-line-4" x="760" y="148"></text>

        <!-- Arrows -->
        <line class="arrow" id="arrow-user-orch"  x1="160" y1="70" x2="278" y2="70" marker-end="url(#arrow-head)" />
        <line class="arrow" id="arrow-orch-user"  x1="278" y1="70" x2="160" y2="70" marker-end="url(#arrow-head)" />
        <line class="arrow" id="arrow-orch-tools" x1="460" y1="70" x2="588" y2="70" marker-end="url(#arrow-head)" />
        <line class="arrow" id="arrow-tools-orch" x1="588" y1="70" x2="460" y2="70" marker-end="url(#arrow-head)" />
        <line class="arrow" id="arrow-orch-llm"   x1="370" y1="100" x2="370" y2="208" marker-end="url(#arrow-head)" />
        <line class="arrow" id="arrow-llm-orch"   x1="370" y1="208" x2="370" y2="100" marker-end="url(#arrow-head)" />
      </svg>
    </section>

    <!-- Transcript (full width, fills remaining space) -->
    <section id="transcript-section">
      <h2>Chat Transcript</h2>
      <div id="transcript"></div>
    </section>
  </div>
  <script type="module" src="/src/main.js"></script>
</body>
</html>
